{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mikebaker/access/client/src/containers/ListView.jsx\";\nimport React, { Component } from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport { Link } from \"react-router-dom\";\nimport { ReactSortable } from \"react-sortablejs\";\nimport Navbar from 'react-bootstrap/Navbar';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport AddItem from '../components/AddItem.jsx';\nimport qs from 'qs';\nimport axios from 'axios';\nimport list_stub from './list_stub.json';\nimport DatePicker from 'react-date-picker';\n\nclass ListView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      list_id: null,\n      item_list: list_stub,\n      editMode: false,\n      date_value: new Date()\n    };\n    this.handleDateChange = this.handleDateChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      list_id: qs.parse(this.props.location.search, {\n        ignoreQueryPrefix: true\n      }).list_id\n    }, () => {\n      this.getList();\n    });\n  }\n\n  getList(data, callback) {\n    var url;\n    if (process.env.NODE_ENV === 'production') url = 'https://www.thelocalgame.com/register';else url = 'http://localhost:3000/api/my_list';\n    axios.post(url, {\n      list_id: this.state.list_id,\n      date: this.state.date_value\n    }, {\n      withCredentials: true,\n      credentials: 'include'\n    }).then(response => {\n      //callback(response.data);\n      console.log(response.data);\n      this.setState({\n        item_list: response.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  handleDateChange(date) {\n    this.setState({\n      date_value: date\n    }, () => {\n      this.getList();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        bg: \"light\",\n        expand: \"lg\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          href: \"/\",\n          children: \"MindfullList\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-success\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(AddItem, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n        onChange: this.handleDateChange,\n        value: this.state.date_value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: /*#__PURE__*/_jsxDEV(ReactSortable, {\n          list: this.state.item_list.items,\n          setList: newState => this.setState({\n            list: newState\n          }),\n          disabled: !this.state.editMode,\n          children: this.state.item_list.items.map(item => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            children: [item.item_name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 50\n            }, this), item.item_desc, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 71\n            }, this), item.item_value]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default ListView;","map":{"version":3,"sources":["/Users/mikebaker/access/client/src/containers/ListView.jsx"],"names":["React","Component","ListGroup","Link","ReactSortable","Navbar","Form","Button","AddItem","qs","axios","list_stub","DatePicker","ListView","constructor","state","list_id","item_list","editMode","date_value","Date","handleDateChange","bind","componentDidMount","setState","parse","props","location","search","ignoreQueryPrefix","getList","data","callback","url","process","env","NODE_ENV","post","date","withCredentials","credentials","then","response","console","log","catch","err","render","items","newState","list","map","item","item_name","item_desc","item_value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport { Link } from \"react-router-dom\";\nimport { ReactSortable } from \"react-sortablejs\";\nimport Navbar from 'react-bootstrap/Navbar';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport AddItem from '../components/AddItem.jsx';\nimport qs from 'qs';\nimport axios from 'axios';\nimport list_stub from './list_stub.json';\nimport DatePicker from 'react-date-picker';\n\nclass ListView extends Component{\n  constructor() {\n  super();\n  this.state = {\n    list_id:null,\n    item_list: list_stub,\n    editMode: false,\n    date_value:new Date()\n  }\n  this.handleDateChange=this.handleDateChange.bind(this);\n  };\n\n\n  componentDidMount() {\n    this.setState({list_id:qs.parse(this.props.location.search, { ignoreQueryPrefix: true }).list_id}, () => {\n        this.getList();\n    }\n    \n    );\n}\n\n\ngetList (data, callback){\n  \n    var url;\n      if(process.env.NODE_ENV === 'production')\n        url='https://www.thelocalgame.com/register';\n      else\n        url='http://localhost:3000/api/my_list';\n    \n    axios.post(url,{list_id:this.state.list_id,date:this.state.date_value},{withCredentials: true, credentials: 'include'}).then(response =>{\n      //callback(response.data);\n      console.log(response.data);\n      this.setState({item_list:response.data});\n    }).catch(err =>{\n      console.log(err);\n    })\n  }\n\nhandleDateChange(date) {\n    this.setState({date_value:date}, () => {\n        this.getList();\n    });\n\n}\n\n render(){\n    return (\n        <div>\n            <Navbar bg=\"light\" expand=\"lg\">\n                <Navbar.Brand href=\"/\">MindfullList</Navbar.Brand>\n                <Button variant=\"outline-success\">Edit</Button>\n            </Navbar>\n            <AddItem />\n            <DatePicker\n            onChange={this.handleDateChange}\n            value={this.state.date_value}\n            />\n            <ListGroup>\n            <ReactSortable\n                list={this.state.item_list.items}\n                setList={(newState) => this.setState({ list: newState })}\n                disabled={!this.state.editMode}\n            >\n                {this.state.item_list.items.map((item) => (\n                <ListGroup.Item >{item.item_name}<br/>{item.item_desc}<br/>{item.item_value}</ListGroup.Item>\n                ))}\n            </ReactSortable>\n            </ListGroup>\n        </div>\n        )\n    }\n}\nexport default ListView \n"]},"metadata":{},"sourceType":"module"}